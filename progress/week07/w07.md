# Tuần 7 — Retrain Model: Pre-Release Prediction (Phase 1)

## Mục tiêu
Xây dựng model dự đoán thành công phim **TRƯỚC khi phim ra mắt** - chỉ sử dụng features biết trước, loại bỏ data leakage.

## Việc cần làm

### 1. Chuẩn bị dữ liệu Pre-Release

- [ ] Load dataset `clean_movies_with_labels.csv`
- [ ] Xác định và giữ lại **chỉ features biết trước**:
  - `budget`, `runtime`
  - `release_year`, `release_month`, `release_weekday`
  - `genres` (one-hot encoded)
  - `num_genres`
  
- [ ] **Loại bỏ features post-release** (data leakage):
  - ❌ `revenue`
  - ❌ `vote_average`
  - ❌ `vote_count`
  - ❌ `roi`, `roi_clipped`, `roi_vs_vote`

### 2. Feature Engineering

- [ ] Tạo `release_quarter` (1-4)
- [ ] Tạo `is_holiday_season` (tháng 6, 7, 11, 12)
- [ ] One-hot encoding cho genres
- [ ] Xử lý missing values

### 3. Train Model Pre-Release

- [ ] Split data: 80% train / 20% test
- [ ] Train Random Forest Classifier
- [ ] Evaluate: Accuracy, Precision, Recall, F1
- [ ] 5-Fold Cross Validation
- [ ] Lưu model: `pre_release_rf_model.pkl`

## Giao nộp
- Script `pre_release_model.py`
- Model file `pre_release_rf_model.pkl`
- Báo cáo metrics (kỳ vọng: **Accuracy 70-80%**)

## Giải thích
> Accuracy thấp hơn model cũ (99%) là **bình thường** và **đúng logic**:
> - Model cũ dùng `vote_average` + `revenue` → đây là data leakage (biết kết quả trước khi dự đoán)
> - Model mới chỉ dùng thông tin biết trước → dự đoán THỰC SỰ
> - 70-80% accuracy với pre-release data là kết quả tốt trong các nghiên cứu Academic

